<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Hugo 0.121.1">
  <title> Converting from Xero to Beancount | Bytestone Blog </title>
  <meta name="description" content="Varying notes on a very long journey to build bytestone.">
  <link rel="stylesheet" href="https://www.bytestone.uk/css/simpleness.css">
  <link rel="canonical" href="https://www.bytestone.uk/posts/2019-05-29-conversion-from-xero-to-beancount/">
  <link rel="alternate" type="application/rss+xml" href="" title="Bytestone Blog">
  
  
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
  
</head>
<body class="container">
  <nav class="navigation">
  <div class="nav-left">
    
    <div class="nav-item nav-title">
      <a href="https://www.bytestone.uk/"> Bytestone Blog</a>
    </div>
    <div class="nav-item nav-menu">
      
      <a href="/"> Home</a>
      
      <a href="/about/"> About</a>
      
    </div>
  </div>
  <div class="nav-item nav-right fontawesome">
    
    
    <a href="https://github.com/Drummonds" target="_blank">
      <i title="GitHub" class="fab fa-github"></i>
    </a>
    
    
    <a href="https://www.bytestone.uk/index.xml" target="_blank">
      <i title="RSS" class="fas fa-rss"></i>
    </a>
    
  </div>
</nav>

  
<article class="post">
  <header class="post-header">
    <h1 style="text-align: center;" >Converting from Xero to Beancount</h1>
    <div class="post-metadata">
    
      <time datetime="2019-10-28T00:00:00Z">October 28, 2019</time> &nbsp; 
    
    
    
    
    
      <i class="far fa-clock"></i>
      
      
      
      
        5 min
      
      47 s
      &nbsp;
    
    
    </div>
  </header>

  

  <div class="post-text">
    <p><!-- raw HTML omitted -->Xero-&gt;Beancount<!-- raw HTML omitted --></p>
<h1 id="converting-from-xero-to-beancount">Converting from Xero to Beancount</h1>
<p>This is about the journed of converting from Xero to Beancount.  This version is a scrappy version written for me.
The reason is cost,  I need to reduce my costs to the absolute limit and can no longer afford the ca£45 for the monthly
fee.</p>
<h1 id="plan">Plan</h1>
<ul>
<li>Install Beancount</li>
<li>Repeat the following a few times until it works well
<ul>
<li>Export Data from Xero, CSV</li>
<li>Massage</li>
<li>Convert to Beancount</li>
</ul>
</li>
</ul>
<p>success criteria</p>
<ul>
<li>Make sure can product Trial Balance that agrees with Xero for end of year</li>
<li>Make sure can do reports for year end accounts</li>
<li>Make sure can import Barclays statements <strong>DONE</strong></li>
</ul>
<h1 id="drummondsnet-overview">Drummonds.net Overview</h1>
<p>7 Apr 2015 to 31st May 2019</p>
<h1 id="pumba">Pumba</h1>
<h1 id="log-day-0">Log Day 0</h1>
<h2 id="installation-of-beancount">Installation of beancount</h2>
<p>Cloned and used a new virtualenv, building.  Going to run test suite.
<strong>OOps</strong> no test</p>
<h2 id="2019-06-05">2019-06-05</h2>
<p>xbrl and balance sheets</p>
<p>Although the maths is handled by beancount, I don&rsquo;t get a prettily formatted balance sheet report.  I want to verify
gainst
my filed xbrl at companies house but don&rsquo;t have a way of doing balance sheet/ ledger arithmetic.  Reading this from
David Kane on xbrl <a href="https://dkane.net//2018/working-with-xbrl/">https://dkane.net//2018/working-with-xbrl/</a> .</p>
<p>A bit worried that I have actually solved this problem myself but it isn&rsquo;t out there from someone else.</p>
<h2 id="2019-06-06">2019-06-06</h2>
<p>Multi currency transactions</p>
<p><a href="https://www.mscs.dal.ca/~selinger/accounting/tutorial.html">https://www.mscs.dal.ca/~selinger/accounting/tutorial.html</a></p>
<p>Working on dealing with Euro transactions.
Also need to have better importing - using customer names where they are available</p>
<p>Look into using bean-price to get EUR/GBP pricing</p>
<h2 id="2019-06-12">2019-06-12</h2>
<p>Import of transactions is going well.  Year end reporting is trickier.  I have two slightly interlinked issues:</p>
<ul>
<li>Should I create an end of year journal?</li>
<li>Can I create reports that produce accounting results.</li>
</ul>
<h2 id="2019-06-24">2019-06-24</h2>
<p>In order to simplify the code for converting the accounting transaction history, I have been trying to merge the
general ledger export which contains reversed transactions.  However it looks as though it is going to be tricky as
some reversed transactions are real and others are not.  I think a certain amount of manual input is going to be
necessary so might as well do that on the conversion of the accounting transaction history.</p>
<p>The lesson is that there is some unavoidable hand editing of the file.  So I am going to make the code simpler
eg removing the requirment to singulate by making all unique description or reference fields hold.  This is feeling
much better.</p>
<h2 id="2019-07-09">2019-07-09</h2>
<p>Getting ?</p>
<h2 id="2019-10-29">2019-10-29</h2>
<p>Starting up again as need to Pumbas end of year accounts in two days.  I have lost a piece of code which used
beancount to import a file.</p>
<p>Managed to do Pumbas accounts.</p>
<h2 id="2019-12-17">2019-12-17</h2>
<p>Started in earnest again for drummonds.net.  Now the best record of account is beancount. (18th)  have reconciled
bank accounts.</p>
<h3 id="year-end-journal---probably-a-bad-idea">Year End Journal - Probably a bad idea</h3>
<p>I original thought I should put one in - although not sure how it will affect year end reporting.  I want to put in
checks at year end that the balances are correct.  I suppose there is no reason to put the actual balance sheet entries
I can just put in a Trial Balance check point.  This is a longer but allows other figures to run over years.</p>
<h3 id="year-end-reports">Year end reports</h3>
<p>I have been avoiding this but it is in Xero and the data I am getting from Fava is ok but needs more handling.
Also there are multiple reports to run which you need for one year end.</p>
<h4 id="precision-of-gbp-fixed-2019-06-12">Precision of GBP (Fixed 2019-06-12)</h4>
<p>By default the GBP seems to be doing precision to 1 decimal place, see extract from options in Fava:<br>
<code>dcontext    GBP             : sign=1   integer_max=5   fractional_common=1   fractional_max=2   &quot;-00000.0&quot; &quot;-00000.00&quot;</code>
This is leading to errors in reports.  This is inferred from the input.  By formatting the numbers to two significant
figues the right results in fava were found.</p>
<h1 id="terminology">Terminology</h1>
<p>I am just looking at the terminology around books of accounts, ledgers and journal entries.</p>
<h2 id="general-and-xero">General and Xero</h2>
<ul>
<li><strong><a href="https://en.wikipedia.org/wiki/Ledger">Ledger</a></strong> Book or file for recording economic transactions.</li>
<li><strong>Manual Journal</strong> This is an entry in the ledger.</li>
</ul>
<h2 id="beancount">Beancount</h2>
<p>Martin Blais documents his terminology in his <a href="https://docs.google.com/document/d/1N7HDXuNWgLG2PqFS4Kkgv5LzAAtU6c97UVNT7tdTIjA/edit#heading=h.eel82eoz8myj">design document</a>.</p>
<ul>
<li><strong>Ledger file</strong>  A collection of transactions. Note: this differs from a traditional ledger in that all transactions
can be placed in it rather than sorted by account.</li>
<li><strong>Transaction</strong> these are journal entries and must balance to zero in each currency/commodity.  This balancing is the
core of the double entry system.  Since each transaction balances then a collection of them must also balance.</li>
<li><strong>Journal entry</strong> see <em>Transaction</em></li>
<li><strong>Posting</strong> or Each transaction is composed of muliple postings or legs.</li>
<li><strong>Leg</strong> see <em>posting</em></li>
</ul>
<h1 id="xero-document-for-exporting-data">Xero Document for exporting data:</h1>
<h2 id="overview">Overview</h2>
<p>Export data and reports from individual areas in Xero to keep as an external backup
or to import into another product.</p>
<h2 id="how-it-works">How it works</h2>
<p>You can export certain data in a CSV format and most Xero reports in a spreadsheet or PDF format.</p>
<p>There isn’t a one-step feature to copy all of an organisation&rsquo;s data. You can however export data from individual
areas of Xero and reports from our report centre. You might want to do this if you&rsquo;re cancelling your subscription,
or if you want to keep your own external backup.</p>
<p>Your user role determines the data you can export. The adviser user role lets you run most exports, but you’ll
need payroll admin access for payroll reports.</p>
<h3 id="data-and-reports-you-can-export">Data and reports you can export</h3>
<p>Before you stop using Xero, or if you want to back up your data, we recommend you export your chart of accounts, contacts, invoices and bills, general ledger data and fixed asset list.</p>
<p>We also recommend you export these reports:</p>
<ul>
<li>Balance Sheet (New) for each year</li>
<li>Profit and Loss (New) for each year</li>
<li>Trial Balance (New) including past periods</li>
<li>Account Transactions report (New) for a list of all transactions</li>
<li>Receivable Invoice Detail report (New) for details of invoices, credit notes, overpayments and prepayments</li>
<li>Payable Invoice Detail report (New) for details of bills, credit notes, overpayments and prepayments</li>
<li>VAT returns for each filed return period</li>
<li>Payroll Activity Details report run for each year</li>
<li>Fixed Asset Reconciliation (New) to show your asset and depreciation detail for each year</li>
<li>Inventory Item List report (New) for item detail and transactions</li>
<li>Bank reconciliation report to show reconciled bank transactions</li>
</ul>
<p>Also need to export files</p>
<p>If you use multicurrency, we also suggest you export the older version of the reports, such as the Detailed Account
Transactions report, that show the foreign currency detail.</p>
<p>Export items out of Xero in these file formats
Items you can export	How to	Export file format
CSV/
XLS	Google Sheets	MYE	Various	PDF	TXT/
XML
Batch payments	Export a batch file	 	 	 	✔	 	
Budget	Export budget	✔	✔	 	 	 	
Chart of accounts	Export COA	✔	 	 	 	 	
Contacts	Export contacts	✔	 	 	 	 	
Fixed assets	Export fixed assets	✔	 	 	 	 	
GL data	Export GL data	✔	 	✔	 	 	✔
Inventory items	Export inventory items	✔	 	 	 	✔	
Invoices and bills	Export invoices and bills	✔	 	 	 	 	
Reports	Export reports	✔	✔	 	 	✔	
Export formats for other accounting products</p>
<p>If you have the adviser user role, you can export the general ledger, chart of accounts, and trial balance data to
import into other accounting products.</p>
<pre><code>In the Accounting menu, select Advanced, then click Export accounting data.
Under Select product, select the product you want to import the data into.
Select the date range to export.
Click Download for each document you want to export. The file is saved to the downloads folder on your computer.
</code></pre>
<h1 id="xero-export-detailed-instructions">Xero export detailed instructions</h1>
<h1 id="account-transactions-report">Account transactions report</h1>
<p>You are going to select all codes and all dates.
This needs to be customised to extract all the data (open report settings and click all columns and FX columns (group by
account is ok as will be resorted anyway))</p>

  </div>

  <footer class="post-footer">
    

    

    
    
  </footer>
  
  <div class="comments">
  <div class="comments">



</div>
  </div>
</article>

  <div class="foot">
  
  &copy; 2018 - 2024 &#183;
  <a href="/"> Bytestone Blog </a> &#183;
  Theme <a href="https://github.com/RainerChiang/simpleness">Simpleness</a> Powered by <a href="https://gohugo.io/">Hugo</a> &#183;
  <a href="#"><i class="fas fa-chevron-up"></i></a>
</div>
</body>
  <script src="/js/lazyload.min.js"></script>
<script>
  var lazyImage = new LazyLoad({container: document.getElementById('article')});
</script>




</html>
